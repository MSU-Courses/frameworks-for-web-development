# Лабораторная работа №2. HTTP-запросы и шаблонизация в Laravel

## Цель работы

Изучить основные принципы работы с HTTP-запросами в Laravel и шаблонизацию с использованием Blade на основе веб-приложения `To-Do App для команд`, приложения для управления задачами команды.

## Условие

### №1. Подготовка к работе, установка Laravel

1. Откройте терминал и создайте новый проект Laravel с именем `todo-app` (имя проекта может быть любым) с помощью Composer:
   ```bash
   composer create-project --prefer-dist laravel/laravel todo-app
   ```
2. Перейдите в директорию проекта:
   ```bash
   cd todo-app
   ```
3. Запустите встроенный сервер Laravel:
   ```bash
   php artisan serve
   ```
   Что вы видите в браузере, открыв страницу `http://localhost:8000`?

### №2. Настройка окружения

1. Откройте файл `.env` и укажите следующие настройки приложения:
   ```ini
   APP_NAME=
   APP_ENV=
   APP_KEY=
   APP_DEBUG=true
   APP_URL=http://localhost:8000
   ```
2. Сгенерируйте ключ приложения, который будет использоваться для шифрования данных:
   ```bash
   php artisan key:generate
   ```
   > [!NOTE]
   > Что будет, если данный ключ будет передан в руки злоумышленника?

### №3. Основы работы с HTTP-запросами

1. Создайте класс-контроллер `HomeController` для обработки запросов на главную страницу и добавьте в него метод `index`.
2. Создайте маршрут `/` для главной страницы в файле `routes/web.php`.
3. Создайте маршрут `/about` для страницы "О нас" в файле `routes/web.php`.
4. Создайте класс-контроллер `TaskController` для обработки запросов связанных с задачами со следующими методами:
   - `index` — отображение списка задач;
   - `create` — отображение формы создания задачи;
   - `store` — сохранение новой задачи;
   - `show` — отображение задачи;
   - `edit` — отображение формы редактирования задачи;
   - `update` — обновление задачи;
   - `destroy` — удаление задачи.
5. Создайте маршруты для методов контроллера `TaskController` в файле `routes/web.php` и укажите верные методы контроллера.
6. Используйте группирование маршрутов для контроллера `TaskController` с префиксом /`tasks`, чтобы упростить маршрутизацию и улучшить читаемость кода.
7. Определите правильные имена маршрутов для контроллера `TaskController`, например:
   1. `tasks.index` — список задач;
   2. `tasks.create` — форма создания задачи;
   3. ...
8. Вместо ручного создания маршрутов для каждого метода, в Laravel можно использовать ресурсный контроллер, который автоматически создаст маршруты для всех **CRUD-операций**.
   1. В файле `routes/web.php` замените ручное создание маршрутов для контроллера `TaskController` на ресурсный контроллер:
      ```php
      Route::resource('tasks', TaskController::class);
      ```
   2. > [!NOTE] 
      >Объясните разницу между ручным созданием маршрутов и использованием ресурсного контроллера. Какие имена маршрутов будут созданы автоматически?

### №4. Шаблонизация с использованием Blade

#### №4.1. Создание макета страницы

1. Создайте макет основных страниц `layouts/app.blade.php` с общими элементами страницы:
   1. Заголовок страницы;
   2. Меню навигации;
   3. Контент страницы.


#### №4.2. Использование шаблонов Blade

1. Создайте представление для главной страницы `home.blade.php` с использованием макета `layouts/app.blade.php` в каталоге `resources/views`. На главной странице должно быть:
   1. Приветственное сообщение: заголовок и краткое описание приложения, например "To-Do App для команд".
   2. **Навигация**: ссылки на основные разделы, такие как:
      1. Список задач;
      2. Создание задачи.
   3. Информация о приложении: краткое описание назначения приложения и его основных функций.
2. Создайте представление для страницы "О нас" `about.blade.php` с использованием макета `layouts/app.blade.php` в каталоге `resources/views`.
3. Создайте представления для задач со следующими шаблонам в каталоге `resources/views/tasks`:
   1. `index.blade.php` — список задач;
   2. `create.blade.php` — форма создания задачи;
   3. `show.blade.php` — отображение задачи;
   4. `edit.blade.php` — форма редактирования задачи.
   
> [!IMPORTANT]
> Поскольку мы пока не работаем с базой данных и моделями, используйте статические данные, передаваемые из контроллера в компонент, для отображения информации о задачах. **Никакую логику нет необходимо реализовывать**.

#### №4.3. Анонимные компоненты Blade

> [!TIP]
> В `Laravel` есть возможность создавать `анонимные компоненты` для упрощения структуры шаблонов и многократного использования блоков кода.  

1. Создайте анонимный компонент для отображения `header`. Используйте созданный компонент в макете `layouts/app.blade.php`.
2. Создайте анонимный компонент для отображения задачи.
   1. Компонент должен быть простым и использовать передаваемые параметры с помощью директивы `@props`. Это поможет сделать шаблоны более гибкими и переиспользуемыми на различных страницах.
   2. Компонент должен отображать информацию о задаче, такую:
      1. Название задачи;
      2. Описание задачи;
      3. Дата создания задачи.
      4. Дата обновления задачи.
      5. Действия над задачей (редактирование, удаление).
      6. Статус задачи (выполнена/не выполнена).
      7. Приоритет задачи (низкий/средний/высокий).
      8. Исполнитель задачи (Assigment), то есть имя пользователя, которому назначена задача.

### №5. Дополнительные задания

> [!IMPORTANT]
> Данное задание является дополнительным и не является обязательным для выполнения, но может быть использовано для углубленного изучения темы.

1. Отобразите последнюю задачу на главной странице с использованием `View Composer`.
2. Добавьте дополнительный анонимный компонент для отображения приоритета задачи (`низкий`, `средний`, `высокий`) с разными цветами или иконками для каждого приоритета.

## Контрольные вопросы

1. Что такое ресурсный контроллер в Laravel и какие маршруты он создает?
2. Какие преимущества предоставляет использование анонимных компонентов Blade?
3. Какие методы HTTP-запросов используются для выполнения операций **CRUD**?